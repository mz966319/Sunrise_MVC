//$(document).ready(function () {
//    loadDataTable();
//    //$('#tblData').DataTable({
//    //    dom: 'Bfrtip', // This option allows buttons to be displayed
//    //    buttons: [
//    //        'copy', 'csv', 'excel', 'pdf', 'print'
//    //    ]
//    //});
//});

//function loadDataTable() {
//    dataTable = $('#tblData').DataTable({

//        "ajax": {url:'/admin/gradeClass/getall'},
//        "columns": [
//            { data: 'gradeClassID',"width":"5%" },
//            { data: 'className', "width": "15%" },
//            { data: 'grade.gradeName', "width": "15%" },
//            {
//                data: 'gradeClassID',
//                "render": function (data) {
//                    return `<div class="w-75 btn-group" role="group">
//                                <a href="/admin/gradeclass/upsert?id=${data}" class="btn btn-primary btn-sm mx-2">
//                                    <i class="bi bi-pencil-square" style="position: relative; "></i>
//                                </a>
//                            </div>`
//                },
//                "width": "1%"
//            }
//        ],
//        dom: 'Bfrtip',  // Display buttons above the table
//        buttons: [
//            'copy', 'csv', 'excel', 'pdf', 'print'
//        ]


//    });
//}


$(document).ready(function () {
    loadDataTable();
});

function loadDataTable() {
    dataTable = $('#tblData').DataTable({
        "ajax": { url: '/admin/gradeClass/getall' },
        "columns": [
            { data: 'gradeClassID', "width": "5%" },
            { data: 'className', "width": "15%" },
            { data: 'grade.gradeName', "width": "15%" },
            {
                data: 'gradeClassID',
                "render": function (data) {
                    return `<div class="w-75 btn-group" role="group">
                                <a href="/admin/gradeclass/upsert?id=${data}" class="btn btn-primary btn-sm mx-2">
                                    <i class="bi bi-pencil-square" style="position: relative;"></i>
                                </a>
                            </div>`;
                },
                "width": "1%"
            }
        ],

        dom: 'Bfrtip',
        buttons: [
            {
                extend: 'pdfHtml5',
                text: 'Export PDF',
                orientation: 'portrait', // or 'landscape'
                pageSize: 'A4',          // Options: A3, A4, A5, etc.
                title: 'My Custom PDF Title',
                customize: function (doc) {
                    // Change margins
                    doc.pageMargins = [30, 30, 30, 30];  // [left, top, right, bottom]

                    // Add styles to the document
                    doc.styles.tableHeader = {
                        color: 'black',
                        background: '#4CAF50',
                        alignment: 'center'
                    };

                    // Add header text
                    doc['header'] = (function () {
                        return {
                            columns: [
                                {
                                    text: 'Custom Header Title',
                                    alignment: 'left',
                                    margin: [30, 10]
                                }
                            ],
                            margin: [10, 0]
                        };
                    });

                    // Add footer text
                    doc['footer'] = (function (page, pages) {
                        return {
                            columns: [
                                {
                                    alignment: 'left',
                                    text: 'Generated by My Application',
                                    margin: [30, 0]
                                },
                                {
                                    alignment: 'right',
                                    text: 'Page ' + page.toString() + ' of ' + pages.toString(),
                                    margin: [0, 0, 30, 0]
                                }
                            ],
                            margin: [10, 0]
                        };
                    });

                    // Change table alignment
                    doc.content[1].table.widths = ['10%', '30%', '30%', '30%'];  // Set column widths
                }
            }
        ]
    });
}

